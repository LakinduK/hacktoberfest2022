const darkSwitch = document.getElementById("darkSwitch");
const text = document.querySelector(".text-dark");

function initTheme() {
  const e =
    null != localStorage.getItem("darkSwitch") &&
    "dark" == localStorage.getItem("darkSwitch");
  if ((darkSwitch.checked = e)) {
    document.body.setAttribute("data-theme", "dark");
    document.getElementById("H22-image").src = "src/H22/H22-logo-dark.png";
  } else {
    document.body.removeAttribute("data-theme");
    document.getElementById("H22-image").src = "src/H22/H22-logo-light.png";
  }
}

function resetTheme() {
  if (darkSwitch.checked) {
    document.body.setAttribute("data-theme", "dark"),
      localStorage.setItem("darkSwitch", "dark");
    text.innerHTML = "Light Theme 🌤️";
    document.getElementById("H22-image").src = "src/H22/H22-logo-dark.png";
    document.getElementById("bg-img").style.backgroundImage =
      "url('src/H22/H22-Banners-Light.jpg')";
    document.getElementById("footer").style.backgroundColor = "white";
    document.getElementById("footer").style.color = "rgba(24, 24, 29, 0.959)";
  } else {
    document.body.removeAttribute("data-theme"),
      localStorage.removeItem("darkSwitch");
    text.innerHTML = "Dark Theme 🌚";
    document.getElementById("H22-image").src = "src/H22/H22-logo-light.png";
    document.getElementById("bg-img").style.backgroundImage =
      "url('src/H22/H22-Banners-Dark.jpg')";
    document.getElementById("footer").style.backgroundColor =
      "rgba(24, 24, 29, 0.959)te";
    document.getElementById("footer").style.color = "white";
  }
}

window.addEventListener("load", () => {
  darkSwitch &&
    (initTheme(),
      darkSwitch.addEventListener("change", () => {
        resetTheme();
      }));
});
